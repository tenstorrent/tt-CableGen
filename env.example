# CableGen Docker Compose Environment Configuration

# ACME Certificate Configuration
# For production with Vault ACME:
# ACME_DIRECTORY_URL=https://vault.yourcompany.com/v1/pki/acme/directory
# For production with Let's Encrypt (default):
ACME_DIRECTORY_URL=https://acme-v02.api.letsencrypt.org/directory
ACME_CONTACT=it@yourcompany.com

# Domain Configuration
FQDN=cablegen.yourcompany.com

# OAuth2 Proxy Configuration
# Provider: entra-id, google, github, oidc, etc.
OAUTH2_PROXY_PROVIDER=entra-id

# For Microsoft Entra ID (Azure AD):
OAUTH2_PROXY_AZURE_TENANT=your-azure-tenant-id
OAUTH2_PROXY_OIDC_ISSUER_URL=https://login.microsoftonline.com/${OAUTH2_PROXY_AZURE_TENANT}/v2.0

# OAuth2 Client Configuration (get from your OAuth2 provider)
OAUTH2_PROXY_CLIENT_ID=your-client-id
OAUTH2_PROXY_CLIENT_SECRET=your-client-secret

# Cookie Secret (generate with: python -c 'import os,base64; print(base64.urlsafe_b64encode(os.urandom(32)).decode())')
OAUTH2_PROXY_COOKIE_SECRET=REPLACE_WITH_RANDOM_SECRET

# OAuth2 Redirect URL
OAUTH2_PROXY_REDIRECT_URL=https://cablegen.yourcompany.com/oauth2/callback

# Email Domain Restrictions (use * to allow all, or specify domains like yourcompany.com)
OAUTH2_PROXY_EMAIL_DOMAINS=*

# Cookie Configuration
OAUTH2_PROXY_COOKIE_SECURE=true
OAUTH2_PROXY_COOKIE_SAMESITE=lax
OAUTH2_PROXY_WHITELIST_DOMAINS=.yourcompany.com
OAUTH2_PROXY_COOKIE_DOMAINS=.yourcompany.com

# Optional: Skip provider selection button
OAUTH2_PROXY_SKIP_PROVIDER_BUTTON=true

# Optional: Skip OIDC issuer verification (for development only)
OAUTH2_PROXY_INSECURE_OIDC_SKIP_ISSUER_VERIFICATION=true

# Flask Application Configuration (optional overrides)
# FLASK_ENV=production
# FLASK_APP=server.py
